{"ast":null,"code":"import _regeneratorRuntime from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{BrowserRouter as Router,Route,Routes,Navigate}from\"react-router-dom\";import Sidebar from\"./components/Sidebar\";import Dashboard from\"./components/Dashboard\";import YourTransactions from\"./components/YourTransactions\";import AllTransactions from\"./components/AllTransactions\";import Profile from\"./components/Profile\";import\"./App.css\";import{AuthProvider,useAuth}from\"./AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useAuth=useAuth(),isAdmin=_useAuth.isAdmin,isLoggedIn=_useAuth.isLoggedIn,login=_useAuth.login,logout=_useAuth.logout,currentUser=_useAuth.currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var handleLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(!email||!password)){_context.next=3;break;}setError(\"Please enter both email and password.\");return _context.abrupt(\"return\");case 3:_context.next=5;return login(email,password);case 5:case\"end\":return _context.stop();}},_callee);}));return function handleLogin(){return _ref.apply(this,arguments);};}();var handleLogout=function handleLogout(){// Call the logout method from the AuthContext\nlogout();};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[isLoggedIn&&/*#__PURE__*/_jsx(Sidebar,{isAdmin:isAdmin,onLogout:handleLogout}),/*#__PURE__*/_jsx(\"div\",{className:\"content-container\",children:isLoggedIn?/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(Dashboard,{currentUser:currentUser})}),/*#__PURE__*/_jsx(Route,{path:\"/transactions\",element:/*#__PURE__*/_jsx(YourTransactions,{})}),isAdmin&&/*#__PURE__*/_jsx(Route,{path:\"/all-transactions\",element:/*#__PURE__*/_jsx(AllTransactions,{})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(Profile,{currentUser:currentUser})})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"login-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"https://res.cloudinary.com/dtnhhgwlo/image/upload/v1690686983/Frame_507_gguzr3.png\",alt:\"Login\",className:\"login-image\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogin,children:\"Login\"})]})})]})});};var AppWithContext=function AppWithContext(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(App,{})});};export default AppWithContext;","map":{"version":3,"names":["React","useState","BrowserRouter","Router","Route","Routes","Navigate","Sidebar","Dashboard","YourTransactions","AllTransactions","Profile","AuthProvider","useAuth","jsx","_jsx","jsxs","_jsxs","App","_useAuth","isAdmin","isLoggedIn","login","logout","currentUser","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","error","setError","handleLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","abrupt","stop","apply","arguments","handleLogout","children","className","onLogout","path","element","to","src","alt","type","placeholder","value","onChange","e","target","onClick","AppWithContext"],"sources":["/home/workspace/reactjs/coding-practices/transactionmanagementapp/src/App.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Route,\n  Routes,\n  Navigate,\n} from \"react-router-dom\";\nimport Sidebar from \"./components/Sidebar\";\nimport Dashboard from \"./components/Dashboard\";\nimport YourTransactions from \"./components/YourTransactions\";\nimport AllTransactions from \"./components/AllTransactions\";\nimport Profile from \"./components/Profile\";\nimport \"./App.css\";\nimport { AuthProvider, useAuth } from \"./AuthContext\";\n\nconst App = () => {\n  const { isAdmin, isLoggedIn, login, logout, currentUser } = useAuth();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleLogin = async () => {\n    if (!email || !password) {\n      setError(\"Please enter both email and password.\");\n      return;\n    }\n\n    // Call the login method from the AuthContext\n    await login(email, password);\n  };\n\n  const handleLogout = () => {\n    // Call the logout method from the AuthContext\n    logout();\n  };\n\n  return (\n    <Router>\n      <div className=\"app-container\">\n        {/* If the user is logged in, render the Sidebar component */}\n        {isLoggedIn && <Sidebar isAdmin={isAdmin} onLogout={handleLogout} />}\n\n        <div className=\"content-container\">\n          {isLoggedIn ? (\n            <Routes>\n              <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n              <Route\n                path=\"/dashboard\"\n                element={<Dashboard currentUser={currentUser} />}\n              />\n              <Route path=\"/transactions\" element={<YourTransactions />} />\n              {isAdmin && (\n                <Route path=\"/all-transactions\" element={<AllTransactions />} />\n              )}\n              <Route\n                path=\"/profile\"\n                element={<Profile currentUser={currentUser} />}\n              />\n              {/* We can add more routes here if needed */}\n            </Routes>\n          ) : (\n            <div className=\"login-container\">\n              <img\n                src=\"https://res.cloudinary.com/dtnhhgwlo/image/upload/v1690686983/Frame_507_gguzr3.png\"\n                alt=\"Login\"\n                className=\"login-image\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Email\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n              />\n              <input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              {error && <div className=\"error\">{error}</div>}\n              <button onClick={handleLogin}>Login</button>\n            </div>\n          )}\n        </div>\n      </div>\n    </Router>\n  );\n};\n\nconst AppWithContext = () => {\n  return (\n    <AuthProvider>\n      <App />\n    </AuthProvider>\n  );\n};\n\nexport default AppWithContext;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}