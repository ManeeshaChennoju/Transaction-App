{"ast":null,"code":"import _objectSpread from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useAuth}from\"../../AuthContext\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(){var _useAuth=useAuth(),isAdmin=_useAuth.isAdmin,currentUser=_useAuth.currentUser;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),profileData=_useState2[0],setProfileData=_useState2[1];useEffect(function(){fetchData();},[]);var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var apiUrl,headers,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;apiUrl=\"https://bursting-gelding-24.hasura.app/api/rest/profile\";headers={\"Content-Type\":\"application/json\",\"x-hasura-admin-secret\":\"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF\",\"x-hasura-role\":isAdmin?\"admin\":\"user\",\"x-hasura-user-id\":currentUser};_context.next=5;return fetch(apiUrl,{headers:headers});case 5:response=_context.sent;_context.next=8;return response.json();case 8:data=_context.sent;console.log(\"profile-----\",data);setProfileData(data.users[0]);_context.next=16;break;case 13:_context.prev=13;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching profile data:\",_context.t0);case 16:case\"end\":return _context.stop();}},_callee,null,[[0,13]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"main-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Profile\"}),!isAdmin&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"add_transaction_button\",children:\"+ Add Transaction\"})]}),profileData&&/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"img\",{width:50,src:\"https://img.freepik.com/premium-vector/man-avatar-profile-picture-vector-illustration_268834-538.jpg\",alt:\"Profile Icon\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.name,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{name:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.username,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{username:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:profileData.email,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{email:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:profileData.password,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{password:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date of Birth\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:profileData.date_of_birth,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{dateOfBirth:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Present Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.present_address,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{presentAddress:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Permanent Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.permanent_address,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{permanentAddress:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"City\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.city,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{city:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Postal Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.postal_code,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{postalCode:e.target.value}));}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Country\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:profileData.country,onChange:function onChange(e){return setProfileData(_objectSpread(_objectSpread({},profileData),{},{country:e.target.value}));}})]})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","useAuth","jsx","_jsx","jsxs","_jsxs","Profile","_useAuth","isAdmin","currentUser","_useState","_useState2","_slicedToArray","profileData","setProfileData","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","apiUrl","headers","response","data","wrap","_callee$","_context","prev","next","fetch","sent","json","console","log","users","t0","error","stop","apply","arguments","className","children","type","width","src","alt","value","name","onChange","e","_objectSpread","target","username","email","password","date_of_birth","dateOfBirth","present_address","presentAddress","permanent_address","permanentAddress","city","postal_code","postalCode","country"],"sources":["/home/workspace/reactjs/coding-practices/transactionmanagementapp/src/components/Profile/index.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useAuth } from \"../../AuthContext\";\nimport \"./index.css\";\n\nconst Profile = () => {\n  const { isAdmin, currentUser } = useAuth();\n  const [profileData, setProfileData] = useState(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    try {\n      const apiUrl = \"https://bursting-gelding-24.hasura.app/api/rest/profile\";\n      const headers = {\n        \"Content-Type\": \"application/json\",\n        \"x-hasura-admin-secret\":\n          \"g08A3qQy00y8yFDq3y6N1ZQnhOPOa4msdie5EtKS1hFStar01JzPKrtKEzYY2BtF\",\n        \"x-hasura-role\": isAdmin ? \"admin\" : \"user\",\n        \"x-hasura-user-id\": currentUser,\n      };\n      const response = await fetch(apiUrl, { headers });\n      const data = await response.json();\n      console.log(\"profile-----\", data);\n\n      setProfileData(data.users[0]);\n    } catch (error) {\n      console.error(\"Error fetching profile data:\", error);\n    }\n  };\n\n  return (\n    <div className=\"main-container\">\n      <div className=\"container\">\n        <h2>Profile</h2>\n        {!isAdmin && (\n          <button type=\"button\" className=\"add_transaction_button\">\n            + Add Transaction\n          </button>\n        )}\n      </div>\n\n      {profileData && (\n        <form>\n          <img\n            width={50}\n            src=\"https://img.freepik.com/premium-vector/man-avatar-profile-picture-vector-illustration_268834-538.jpg\"\n            alt=\"Profile Icon\"\n          />\n          <div>\n            <label>Name</label>\n            <input\n              type=\"text\"\n              value={profileData.name}\n              onChange={(e) =>\n                setProfileData({ ...profileData, name: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Username</label>\n            <input\n              type=\"text\"\n              value={profileData.username}\n              onChange={(e) =>\n                setProfileData({ ...profileData, username: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Email</label>\n            <input\n              type=\"email\"\n              value={profileData.email}\n              onChange={(e) =>\n                setProfileData({ ...profileData, email: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Password</label>\n            <input\n              type=\"password\"\n              value={profileData.password}\n              onChange={(e) =>\n                setProfileData({ ...profileData, password: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Date of Birth</label>\n            <input\n              type=\"date\"\n              value={profileData.date_of_birth}\n              onChange={(e) =>\n                setProfileData({ ...profileData, dateOfBirth: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Present Address</label>\n            <input\n              type=\"text\"\n              value={profileData.present_address}\n              onChange={(e) =>\n                setProfileData({\n                  ...profileData,\n                  presentAddress: e.target.value,\n                })\n              }\n            />\n          </div>\n          <div>\n            <label>Permanent Address</label>\n            <input\n              type=\"text\"\n              value={profileData.permanent_address}\n              onChange={(e) =>\n                setProfileData({\n                  ...profileData,\n                  permanentAddress: e.target.value,\n                })\n              }\n            />\n          </div>\n          <div>\n            <label>City</label>\n            <input\n              type=\"text\"\n              value={profileData.city}\n              onChange={(e) =>\n                setProfileData({ ...profileData, city: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Postal Code</label>\n            <input\n              type=\"text\"\n              value={profileData.postal_code}\n              onChange={(e) =>\n                setProfileData({ ...profileData, postalCode: e.target.value })\n              }\n            />\n          </div>\n          <div>\n            <label>Country</label>\n            <input\n              type=\"text\"\n              value={profileData.country}\n              onChange={(e) =>\n                setProfileData({ ...profileData, country: e.target.value })\n              }\n            />\n          </div>\n        </form>\n      )}\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}