{"ast":null,"code":"import _slicedToArray from\"/home/workspace/reactjs/coding-practices/transactionmanagementapp/node_modules/.pnpm/@babel+runtime@7.22.6/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{format}from\"date-fns\";import{useAuth}from\"../../AuthContext\";import Popup from\"reactjs-popup\";import\"reactjs-popup/dist/index.css\";import\"./index.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTransactionForm=function AddTransactionForm(_ref){var onClose=_ref.onClose,onAddTransaction=_ref.onAddTransaction;var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),transactionName=_useState2[0],setTransactionName=_useState2[1];var _useState3=useState(\"Credit\"),_useState4=_slicedToArray(_useState3,2),transactionType=_useState4[0],setTransactionType=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),transactionCategory=_useState6[0],setTransactionCategory=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),amount=_useState8[0],setAmount=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setDate=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),error=_useState12[0],setError=_useState12[1];var maxTransactionNameLength=30;var handleAddTransaction=function handleAddTransaction(e){e.preventDefault();if(!transactionName||!transactionCategory||!amount||!date){setError(\"All fields are required\");return;}if(transactionName.length>maxTransactionNameLength){setError(\"Transaction Name should be max \".concat(maxTransactionNameLength,\" characters\"));return;}if(isNaN(amount)||parseFloat(amount)<=0){setError(\"Amount should be a numeric value greater than zero\");return;}setError(\"\");var newTransaction={name:transactionName,type:transactionType.toLowerCase(),category:transactionCategory,amount:parseFloat(amount),date:new Date(date).toISOString(),user_id:currentUser};onAddTransaction(newTransaction);onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"add_transaction_form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleAddTransaction,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Add Transaction\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Transaction Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:transactionName,placeholder:\"Enter Name\",onChange:function onChange(e){return setTransactionName(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Transaction Type\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{value:transactionType,placeholder:\"Select Transaction Type\",onChange:function onChange(e){return setTransactionType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Credit\",children:\"Credit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Debit\",children:\"Debit\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{value:transactionCategory,onChange:function onChange(e){return setTransactionCategory(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Entertainment\",children:\"Entertainment\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Food\",children:\"Food\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Shopping\",children:\"Shopping\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Amount\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,placeholder:\"Enter Your Amount\",onChange:function onChange(e){return setAmount(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form_group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:date,placeholder:\"Select Date\",onChange:function onChange(e){return setDate(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form_group\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form_add_button\",children:\"Add Transaction\"})})]})});};var AddTransaction=function AddTransaction(_ref2){var onAddTransaction=_ref2.onAddTransaction;return/*#__PURE__*/_jsx(Popup,{trigger:/*#__PURE__*/_jsx(\"button\",{className:\"add_transaction_button\",children:\"+ Add Transaction\"}),modal:true,nested:true,closeOnDocumentClick:false,children:function children(close){return/*#__PURE__*/_jsx(\"div\",{className:\"popup-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close\",onClick:close,children:\"\\xD7\"}),/*#__PURE__*/_jsx(AddTransactionForm,{onClose:close,onAddTransaction:onAddTransaction})]})});}});};export default AddTransaction;","map":{"version":3,"names":["React","useState","format","useAuth","Popup","jsx","_jsx","jsxs","_jsxs","AddTransactionForm","_ref","onClose","onAddTransaction","_useAuth","currentUser","_useState","_useState2","_slicedToArray","transactionName","setTransactionName","_useState3","_useState4","transactionType","setTransactionType","_useState5","_useState6","transactionCategory","setTransactionCategory","_useState7","_useState8","amount","setAmount","_useState9","_useState10","date","setDate","_useState11","_useState12","error","setError","maxTransactionNameLength","handleAddTransaction","e","preventDefault","length","concat","isNaN","parseFloat","newTransaction","name","type","toLowerCase","category","Date","toISOString","user_id","className","children","onSubmit","htmlFor","id","value","placeholder","onChange","target","AddTransaction","_ref2","trigger","modal","nested","closeOnDocumentClick","close","onClick"],"sources":["/home/workspace/reactjs/coding-practices/transactionmanagementapp/src/components/AddTransaction/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { format } from \"date-fns\";\nimport { useAuth } from \"../../AuthContext\";\nimport Popup from \"reactjs-popup\";\nimport \"reactjs-popup/dist/index.css\";\nimport \"./index.css\";\n\nconst AddTransactionForm = ({ onClose, onAddTransaction }) => {\n  const { currentUser } = useAuth();\n  const [transactionName, setTransactionName] = useState(\"\");\n  const [transactionType, setTransactionType] = useState(\"Credit\");\n  const [transactionCategory, setTransactionCategory] = useState(\"\");\n  const [amount, setAmount] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const maxTransactionNameLength = 30;\n\n  const handleAddTransaction = (e) => {\n    e.preventDefault();\n\n    if (!transactionName || !transactionCategory || !amount || !date) {\n      setError(\"All fields are required\");\n      return;\n    }\n\n    if (transactionName.length > maxTransactionNameLength) {\n      setError(\n        `Transaction Name should be max ${maxTransactionNameLength} characters`\n      );\n      return;\n    }\n\n    if (isNaN(amount) || parseFloat(amount) <= 0) {\n      setError(\"Amount should be a numeric value greater than zero\");\n      return;\n    }\n\n    setError(\"\");\n\n    const newTransaction = {\n      name: transactionName,\n      type: transactionType.toLowerCase(),\n      category: transactionCategory,\n      amount: parseFloat(amount),\n      date: new Date(date).toISOString(),\n      user_id: currentUser,\n    };\n\n    onAddTransaction(newTransaction);\n    onClose();\n  };\n\n  return (\n    <div className=\"add_transaction_form\">\n      <form onSubmit={handleAddTransaction}>\n        <h2>Add Transaction</h2>\n        {error && <p className=\"error\">{error}</p>}\n        <div className=\"form_group\">\n          <label htmlFor=\"name\">Transaction Name</label>\n          <br />\n          <input\n            type=\"text\"\n            id=\"name\"\n            value={transactionName}\n            placeholder=\"Enter Name\"\n            onChange={(e) => setTransactionName(e.target.value)}\n          />\n        </div>\n        <div className=\"form_group\">\n          <label>Transaction Type</label>\n          <br />\n          <select\n            value={transactionType}\n            placeholder=\"Select Transaction Type\"\n            onChange={(e) => setTransactionType(e.target.value)}\n          >\n            <option value=\"Credit\">Credit</option>\n            <option value=\"Debit\">Debit</option>\n          </select>\n        </div>\n        <div className=\"form_group\">\n          <label>Category</label>\n          <br />\n          <select\n            value={transactionCategory}\n            onChange={(e) => setTransactionCategory(e.target.value)}\n          >\n            <option value=\"\">Select Category</option>\n            <option value=\"Entertainment\">Entertainment</option>\n            <option value=\"Food\">Food</option>\n            <option value=\"Shopping\">Shopping</option>\n            {/* Add other options here */}\n          </select>\n        </div>\n        <div className=\"form_group\">\n          <label>Amount</label>\n          <br />\n          <input\n            type=\"number\"\n            value={amount}\n            placeholder=\"Enter Your Amount\"\n            onChange={(e) => setAmount(e.target.value)}\n          />\n        </div>\n        <div className=\"form_group\">\n          <label>Date</label>\n          <br />\n          <input\n            type=\"date\"\n            value={date}\n            placeholder=\"Select Date\"\n            onChange={(e) => setDate(e.target.value)}\n          />\n        </div>\n        <div className=\"form_group\">\n          <button type=\"submit\" className=\"form_add_button\">\n            Add Transaction\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst AddTransaction = ({ onAddTransaction }) => {\n  return (\n    <Popup\n      trigger={\n        <button className=\"add_transaction_button\">+ Add Transaction</button>\n      }\n      modal\n      nested\n      closeOnDocumentClick={false}\n    >\n      {(close) => (\n        <div className=\"popup-overlay\">\n          <div className=\"popup-content\">\n            <button className=\"close\" onClick={close}>\n              &times;\n            </button>\n            <AddTransactionForm\n              onClose={close}\n              onAddTransaction={onAddTransaction}\n            />\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n};\n\nexport default AddTransaction;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}